/**
* zepto touchSlider - 移动端轮播插件
* @version 2.0.0
* @author haibao <hhb219@163.com> <http://www.hehaibao.com/>
*/
(function(k){var q=0,j=0,e,p,f,u,t,d,m,l,c,g,h,r;methods={init:function(a){return this.each(function(){var n=k(this),b=n.data("touchSlider");if(typeof(b)=="undefined"){var i={box:"#sliderBox",srcArr:[],arrows:true,auto:true,autoTime:2000};b=k.extend({},i,a);n.data("touchSlider",b)}b=k.extend({},b,a);d=k(b.box);c=b.srcArr.length||4;g=d.offset().width;if(c>1){e='<ul id="slider">';for(j=0;j<c;j++){h=b.srcArr[j].length==2?b.srcArr[j][0]:b.srcArr[j];r=b.srcArr[j].length==2?b.srcArr[j][1]:"javascript:;";e+='<li><a href="'+r+'"><img width="100%" src="'+h+'"/></a></li>'}e+="</ul>";d.append(e);m=d.children().first();l=m.children();m.css({width:c*g,height:"100%",overflow:"hidden"});l.css({width:g,height:"100%","float":"left"});if(b.arrows){p='<ol id="arrow">';for(j=0;j<c;j++){j==q?p+='<li class="active"></li>':p+="<li></li>"}p+="</ol>";k(this).append(p);k(this).find("#arrow li").on("tap click",function(){q=k(this).index();methods.r(b,"tap")})}if(b.auto){methods.c(b)}k(this).on("swipeLeft",function(){methods.r(b,"next")}).on("swipeRight",function(){methods.r(b,"prev")})}})},r:function(b,a){methods.c(b);if(a=="prev"){q--;if(q<0){q=c-1}}else{if(a=="next"){q++;if(q>=c){q=0}}}m.css({"-webkit-transition-duration":"400ms","-webkit-transform":"translate3D("+-(q*g)+"px,0,0)"});d.find("ol").find("li").removeClass("active").eq(q).addClass("active")},c:function(a){clearInterval(u);clearTimeout(t);if(a.auto){t=setTimeout(function(){u=setInterval(function(){methods.r(a,"next")},a.autoTime)},a.autoTime)}}};k.fn.touchslider=function(a){if(methods[a]){return methods[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return methods.init.apply(this,arguments)}else{k.error("Error! Method"+a+"does not exist on zepto.touchslider！")}}}})(Zepto);